@import "./tokens.css";

:root {
  --bg-base: #07090f;
  --bg-deep: #0a0f18;
  --accent-stable: #00ffc6;
  --accent-tension: #ffb020;
  --accent-risk: #ff4d4d;
  --line-soft: #1a2330;
  --text-main: #e6edf5;
  --text-dim: #94a3b8;

  --font-sans: "Suisse Intl", "IBM Plex Sans", "Avenir Next", "Segoe UI", sans-serif;
  --bg-0: var(--bg-base);
  --bg-1: #0d131f;
  --bg-2: #121a29;
  --text-0: var(--text-main);
  --text-1: var(--text-dim);
  --line: rgba(148, 163, 184, 0.26);
  --line-dark: rgba(148, 163, 184, 0.4);
  --border: var(--line);
  --measure: 64ch;
  --trk-tight: -0.026em;
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  color-scheme: dark;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: var(--font-sans);
  font-size: var(--text-base);
  line-height: var(--leading-normal);
  color: var(--text-main);
  background: var(--bg-base);
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
  isolation: isolate;
}

body::before,
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
}

body::before {
  z-index: -2;
  background:
    radial-gradient(70% 78% at 12% 10%, rgba(255, 176, 32, 0.1), transparent 62%),
    radial-gradient(62% 68% at 78% 6%, rgba(0, 255, 198, 0.09), transparent 62%),
    radial-gradient(76% 88% at 54% 86%, rgba(15, 35, 46, 0.28), transparent 74%),
    linear-gradient(148deg, var(--bg-base), var(--bg-deep));
  transition: background 300ms ease;
}

body::after {
  z-index: -1;
  opacity: 0.07;
  mix-blend-mode: soft-light;
  background-image: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.6px);
  background-size: 2px 2px;
}

body[data-state="hero"]::before {
  background:
    radial-gradient(72% 88% at 18% 14%, rgba(255, 176, 32, 0.14), transparent 60%),
    radial-gradient(62% 72% at 82% 8%, rgba(0, 255, 198, 0.1), transparent 65%),
    linear-gradient(148deg, var(--bg-base), var(--bg-deep));
}

body[data-state="change"]::before {
  background:
    radial-gradient(72% 88% at 24% 20%, rgba(255, 176, 32, 0.16), transparent 58%),
    radial-gradient(58% 72% at 78% 12%, rgba(0, 255, 198, 0.12), transparent 62%),
    linear-gradient(150deg, var(--bg-base), var(--bg-deep));
}

body[data-state="rupture"]::before {
  background:
    radial-gradient(54% 88% at 22% 18%, rgba(255, 77, 77, 0.17), transparent 64%),
    radial-gradient(56% 78% at 80% 16%, rgba(0, 255, 198, 0.09), transparent 66%),
    linear-gradient(150deg, var(--bg-base), #0b1119);
}

body[data-state="stabilized"]::before {
  background:
    radial-gradient(58% 68% at 50% 26%, rgba(0, 255, 198, 0.14), transparent 66%),
    radial-gradient(72% 78% at 88% 74%, rgba(17, 33, 51, 0.24), transparent 74%),
    linear-gradient(156deg, var(--bg-base), #0c1220);
}

body[data-state="binary"]::before {
  background:
    radial-gradient(44% 60% at 31% 46%, rgba(255, 176, 32, 0.12), transparent 70%),
    radial-gradient(54% 68% at 70% 46%, rgba(0, 255, 198, 0.14), transparent 66%),
    linear-gradient(160deg, var(--bg-base), #0a111c);
}

body[data-state="footprint"]::before {
  background:
    radial-gradient(46% 60% at 50% 44%, rgba(0, 255, 198, 0.12), transparent 70%),
    linear-gradient(152deg, var(--bg-base), #0a111a);
}

a {
  color: inherit;
  text-decoration: none;
}

img,
svg,
video,
canvas {
  max-width: 100%;
  display: block;
}

.site-header,
main,
.site-footer {
  position: relative;
  z-index: 2;
}

main {
  padding-top: var(--space-8);
}

.decision-field-root {
  position: fixed;
  inset: 0;
  z-index: 0;
  overflow: hidden;
  pointer-events: none;
}

.decision-field-canvas {
  width: 100%;
  height: 100%;
}

.decision-field-overlay {
  position: absolute;
  right: clamp(0.8rem, 2vw, 1.5rem);
  bottom: clamp(0.8rem, 2vw, 1.5rem);
  display: none;
  gap: 0.3rem;
  padding: 0.55rem 0.72rem;
  border: 1px solid rgba(148, 163, 184, 0.32);
  background: rgba(10, 15, 24, 0.7);
  border-radius: 0.7rem;
  color: var(--text-dim);
  font-size: 0.7rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  backdrop-filter: blur(8px);
}

.decision-field-overlay span {
  display: block;
}

.decision-field-overlay.is-visible {
  display: block;
}

.site-header {
  position: sticky;
  top: 0;
  z-index: 30;
  border-bottom: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(7, 9, 15, 0.74);
  backdrop-filter: blur(10px);
}

.site-header-inner {
  min-height: 68px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
}

.site-brand {
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--text-main);
}

.site-contact-link {
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0 var(--space-4);
  border-radius: var(--radius-sm);
  border: 1px solid rgba(0, 255, 198, 0.34);
  color: var(--text-main);
  font-size: var(--text-sm);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
}

.site-contact-link:hover {
  border-color: rgba(0, 255, 198, 0.66);
  box-shadow: 0 0 0 1px rgba(0, 255, 198, 0.22), 0 10px 26px rgba(0, 255, 198, 0.1);
  transform: translateY(-1px);
}

.site-footer {
  margin-top: var(--space-24);
  padding: var(--space-8) var(--gutter);
  border-top: 1px solid rgba(148, 163, 184, 0.22);
  text-align: center;
  color: var(--text-dim);
  font-size: var(--text-sm);
}

.container-base {
  max-width: var(--container);
  margin-inline: auto;
  padding-inline: var(--gutter);
}

.section {
  padding-block: var(--space-24);
}

.section-title {
  font-size: clamp(1.52rem, 3.1vw, 2.62rem);
  font-weight: 600;
  line-height: 1.12;
  margin-bottom: var(--space-8);
  letter-spacing: -0.026em;
  text-wrap: balance;
}

.section-copy {
  color: var(--text-dim);
  line-height: 1.64;
  max-width: var(--measure);
}

.reveal {
  opacity: 0;
  transform: translateY(14px);
}

.reveal.is-in {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 260ms ease, transform 260ms ease;
}

.hero-section {
  padding-block: var(--space-12) var(--space-24);
}

.hero-shell {
  min-height: calc(100vh - 130px);
  display: grid;
  align-content: center;
}

.block-hero {
  max-width: 48rem;
}

.hero-title {
  font-size: clamp(2.84rem, 7.3vw, 5.32rem);
  line-height: 0.93;
  letter-spacing: -0.042em;
  max-width: 14ch;
}

.hero-wordline {
  display: flex;
  flex-wrap: wrap;
  gap: 0.05em 0.2em;
}

.hero-word {
  display: inline-block;
  opacity: 0;
  transform: translateY(10px);
}

.hero-shell.is-in .hero-word {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 160ms ease, transform 160ms ease;
  transition-delay: calc(80ms + (var(--word-index) * 40ms));
}

.hero-claim {
  margin-top: var(--space-8);
  font-size: clamp(1.04rem, 1.86vw, 1.34rem);
  line-height: 1.48;
  max-width: 42ch;
  color: var(--text-dim);
}

.hero-cta-wrap {
  margin-top: var(--space-8);
}

.change-section {
  border-block: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(10, 15, 24, 0.34);
}

.authority-layout {
  max-width: 52rem;
}

.authority-copy {
  max-width: 48rem;
}

.authority-lead {
  font-size: clamp(1.3rem, 2.7vw, 2rem);
  line-height: 1.22;
  letter-spacing: -0.018em;
  margin-bottom: var(--space-6);
  color: var(--text-main);
}

.rupture-section {
  border-bottom: 1px solid rgba(148, 163, 184, 0.2);
}

.rupture-block {
  min-height: 54vh;
  display: grid;
  align-content: center;
  gap: var(--space-8);
}

.rupture-title {
  margin-bottom: 0;
}

.rupture-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-10);
}

.rupture-column {
  border: 1px solid rgba(148, 163, 184, 0.16);
  background: rgba(10, 15, 24, 0.44);
  padding: clamp(1rem, 2vw, 1.6rem);
  min-height: clamp(210px, 24vw, 290px);
}

.rupture-column h3 {
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--text-dim);
  margin-bottom: var(--space-4);
}

.rupture-column p {
  font-size: clamp(1.36rem, 3vw, 2.35rem);
  line-height: 1.14;
  letter-spacing: -0.022em;
  max-width: 14ch;
}

.rupture-before {
  color: rgba(230, 237, 245, 0.72);
}

.rupture-now {
  border-color: rgba(0, 255, 198, 0.3);
  color: var(--text-main);
}

.manifesto-shell .section-title {
  margin-bottom: var(--space-12);
}

.manifesto-flow {
  display: grid;
  gap: var(--space-12);
}

.manifesto-line {
  font-size: clamp(1.4rem, 3.05vw, 2.24rem);
  line-height: 1.18;
  letter-spacing: -0.022em;
  color: var(--text-main);
  max-width: 34ch;
  transition-delay: calc(var(--m-index) * 80ms);
}

.manifesto-line:nth-child(2) {
  margin-left: clamp(0px, 8vw, 92px);
  max-width: 31ch;
}

.manifesto-line:nth-child(3) {
  margin-left: clamp(0px, 4vw, 44px);
}

.block-binary-wrap {
  border-block: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(9, 14, 22, 0.48);
  color: var(--text-main);
}

.binary-title {
  font-size: clamp(1.9rem, 4.1vw, 3.4rem);
  line-height: 1.04;
  letter-spacing: -0.028em;
  color: var(--text-main);
  margin-bottom: var(--space-8);
  max-width: 20ch;
}

.binary-panels {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-6);
}

.binary-panel {
  min-height: clamp(180px, 24vw, 260px);
  display: flex;
  align-items: flex-end;
  padding: clamp(1rem, 2vw, 1.75rem);
  border-radius: var(--radius-md);
  border: 1px solid rgba(148, 163, 184, 0.22);
  background: rgba(10, 15, 24, 0.55);
}

.binary-panel p {
  font-size: clamp(1.48rem, 3.3vw, 2.72rem);
  line-height: 1.06;
  letter-spacing: -0.022em;
  max-width: 11ch;
}

.binary-panel-before {
  color: rgba(230, 237, 245, 0.68);
  border-color: rgba(255, 176, 32, 0.26);
}

.binary-panel-now {
  border-color: rgba(0, 255, 198, 0.34);
  box-shadow: inset 0 0 0 1px rgba(0, 255, 198, 0.1);
}

.binary-cta {
  margin-top: var(--space-10);
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid rgba(0, 255, 198, 0.65);
  outline-offset: 2px;
}

@media (max-width: 980px) {
  .section {
    padding-block: var(--space-18, 4.5rem);
  }

  .hero-shell {
    min-height: calc(100vh - 120px);
  }

  .rupture-grid,
  .binary-panels {
    grid-template-columns: 1fr;
  }

  .manifesto-line:nth-child(2),
  .manifesto-line:nth-child(3) {
    margin-left: 0;
    max-width: 34ch;
  }
}

@media (max-width: 640px) {
  main {
    padding-top: var(--space-6);
  }

  .site-header-inner {
    min-height: 62px;
  }

  .hero-shell {
    min-height: calc(100vh - 106px);
    align-content: start;
  }

  .hero-title {
    max-width: 10.5ch;
  }

  .hero-claim {
    margin-top: var(--space-6);
    font-size: 1rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  .reveal,
  .hero-word {
    opacity: 1;
    transform: none;
  }

  .hero-shell.is-in .hero-word {
    transition: none;
  }

  *,
  *::before,
  *::after {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}
