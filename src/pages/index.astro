---
import PageLayout from "../layouts/PageLayout.astro";
import { mountDecisionField } from "../components/system/DecisionField";
---

<PageLayout title="Aurora — Decision Infrastructure">
  <main class="vomega-surface">
    <!-- ROOT DEL CAMPO -->
    <div id="decision-field-root" class="decision-field-root" aria-hidden="true"></div>

    <!-- CAPA AUTORIDAD -->
    <section class="vomega-hero">
      <h1>
        Infraestructura decisional.
        <br />
        No software.
      </h1>

      <p class="vomega-sub">
        Aurora expone el efecto real de una decisión antes de ejecutar.
      </p>

      <a href="/demo" class="vomega-cta">Ver cómo funciona</a>
    </section>
  </main>

  <script>
    const root = document.getElementById("decision-field-root");
    if (root) {
      const unmount = mountDecisionField(root);
      window.addEventListener("beforeunload", () => unmount?.(), { once: true });
    }
  </script>

  <style>
    .vomega-surface {
      position: relative;
      min-height: 100vh;
      background: #000;
      overflow: hidden;
    }

    .decision-field-root {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
    }

    .vomega-hero {
      position: relative;
      z-index: 10;
      max-width: 900px;
      padding: 20vh 8vw;
    }

    h1 {
      font-size: clamp(2.5rem, 5vw, 4.5rem);
      line-height: 1.05;
      font-weight: 600;
      letter-spacing: -0.02em;
      color: #fff;
    }

    .vomega-sub {
      margin-top: 1.5rem;
      font-size: 1.2rem;
      opacity: 0.7;
      color: #fff;
    }

    .vomega-cta {
      display: inline-block;
      margin-top: 2.5rem;
      padding: 0.9rem 1.6rem;
      border: 1px solid #4F3C8C;
      color: #fff;
      text-decoration: none;
      transition: all 0.25s ease;
    }

    .vomega-cta:hover {
      background: #4F3C8C;
    }
  </style>
